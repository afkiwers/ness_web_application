{% extends "base-template.html" %}
{% load crispy_forms_tags check_user_group %}

{% block menu_bar %}
    <ul class="navbar-nav mr-auto">
        <!-- Return to previous page -->
        <li class="nav-item active font-weight-bold p-3 p-md-0 pr-md-5" role="presentation">
            <a class="nav-link" href="{% url 'home' %}">
                <span><i class="fas fa-hand-point-left pr-2"></i>Return</span>
            </a>
        </li>
    </ul>
{% endblock %}

{% block content %}

    <div class="row">
        <div class="col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto text-center form p-4">
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                <h3 class="text-capitalize text-center">User Account</h3>

                <div class="form-row">
                    <div class="form-group col-md-6 mb-0">
                        {{ u_form.first_name|as_crispy_field }}
                    </div>

                    <div class="form-group col-md-6 mb-0">
                        {{ u_form.last_name|as_crispy_field }}
                    </div>
                </div>

                {{ u_form.username|as_crispy_field }}
                {{ u_form.email|as_crispy_field }}

                {{ p_form.phone_number|as_crispy_field }}

                <div class="form-row">
                    <div class="form-group col col-12 col-md-6 pt-2 pt-md-0">
                        <div class="row justify-content-center">
                            <img class="center rounded img-fluid p-md-3" src="{{ user.profile.image.url }}">
                        </div>
                    </div>

                    <div class="form-group col col-12 col-md-6 pt-2 pt-md-0">
                        <div class="rounded">
                            {{ p_form.image|as_crispy_field }}
                        </div>
                    </div>
                </div>


                <h3 class="text-capitalize text-center">OMS Settings</h3>


                <div class="form-row text-left">
                    {{ oms_settings_form.enable_storage_model_abbrev_in_grading_schedule|as_crispy_field }}
                </div>

                  <div class="form-row text-left">
                    {{ oms_settings_form.display_mixed_batches_in_detail|as_crispy_field }}
                </div>

                <div class="form-group">
                    <button class="btn btn-outline-info float-right" type="submit">Update</button>
                    <div class="clearfix"></div>
                </div>
            </form>
        </div>
    </div>

{% endblock content %}
